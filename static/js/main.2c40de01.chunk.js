(this.webpackJsonpwidget=this.webpackJsonpwidget||[]).push([[0],{52:function(e,t,n){},53:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var r=n(2),i=n.n(r),o=n(29),a=n.n(o),c=(n(52),n(53),n(22)),s=n(23),u=n(25),h=n(24),d=n(13),l=n(79);var p=n(6),b=n(81),m=Object(p.b)({currTemp:function(e,t){return t.currTemp}}),j=Object(p.b)({targetTemp:function(e,t){return t.targetTemp}}),T=Object(p.b)({colour:function(e,t){return"#E5E7EB"}}),C=Object(p.b)({colour:function(e,t){return"#BFDBFE"}}),M=Object(p.b)({colour:function(e,t){return"#FECACA"}}),f=Object(b.a)({id:"thermostat",initial:"off",context:{targetTemp:72,currTemp:72,dT:2,dTCool:1.5,dTHeat:1.5,colour:"#E5E7EB"},states:{off:{on:{CURR_TEMP_CHANGE:{target:"tempCheck",actions:[m]},TARGET_TEMP_CHANGE:{target:"tempCheck",actions:[j]}}},cooling:{on:{CURR_TEMP_CHANGE:{target:"tempCheck",actions:[m]},TARGET_TEMP_CHANGE:{target:"tempCheck",actions:[j]}}},heating:{on:{CURR_TEMP_CHANGE:{target:"tempCheck",actions:[m]},TARGET_TEMP_CHANGE:{target:"tempCheck",actions:[j]}}},tempCheck:{on:{"":[{target:"off",cond:"isNormal",actions:[T]},{target:"cooling",cond:"isHot",actions:[C]},{target:"heating",cond:"isCold",actions:[M]}]}}}},{guards:{isHot:function(e,t){return e.currTemp>e.targetTemp+e.dT+e.dTCool},isCold:function(e,t){return e.currTemp<e.targetTemp-e.dT-e.dTHeat},isNormal:function(e,t){return e.currTemp<e.targetTemp+e.dT+e.dTCool&&e.currTemp>e.targetTemp-e.dT-e.dTHeat}}}),O=n(80),g=n(84),v=n(85),x=n(83),w=n(82),y=n(8),k=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).handleChange=r.handleChange.bind(Object(d.a)(r)),r.handleClickAway=r.handleClickAway.bind(Object(d.a)(r)),r.state={error:!1},r}return Object(s.a)(n,[{key:"handleChange",value:function(e){this.props.onTemperatureChange(e.target.value)}},{key:"handleClickAway",value:function(e){this.props.currTemperature>=32&&this.props.currTemperature<=100?this.setState({error:!1}):(console.log(this.props.currTemperature),this.setState({error:!0}))}},{key:"render",value:function(){var e=this.props.currTemperature,t=this.state.error;return Object(y.jsx)(w.a,{onClickAway:this.handleClickAway,children:Object(y.jsxs)(x.a,{children:[Object(y.jsx)(O.a,{error:t,type:"number",id:"current-temperature-input",value:e,onChange:this.handleChange,endAdornment:Object(y.jsx)(g.a,{position:"end",children:"\xb0F"}),"aria-describedby":"current-temperature-input-helper-text",inputProps:{"aria-label":"currTemp"}}),Object(y.jsx)(v.a,{id:"current-temperature-input-helper-text",children:t?"Only between 32\xb0F to 100\xb0F":"Current Temperature"})]})})}}]),n}(i.a.Component);function E(e){return e*Math.PI/180}var A=200-200*Math.cos(E(174)),D=200-200*Math.sin(E(174)),P=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).service=Object(l.a)(f).onTransition((function(e){return r.setState({current:e})})),r.handleMouseMove=r.handleMouseMove.bind(Object(d.a)(r)),r.handleMouseDown=r.handleMouseDown.bind(Object(d.a)(r)),r.handleMouseUp=r.handleMouseUp.bind(Object(d.a)(r)),r.handleCurrTempChange=r.handleCurrTempChange.bind(Object(d.a)(r)),r.componentDidMount=r.componentDidMount.bind(Object(d.a)(r)),r.componentWillUnmount=r.componentWillUnmount.bind(Object(d.a)(r)),r.updateWindowDimensions=r.updateWindowDimensions.bind(Object(d.a)(r)),r.state={windowWidth:window.innerWidth,xknob:A,yknob:D,xcord:0,ycord:0,isMouseDown:!1,current:f.initialState},r}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.service.start(),this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions)}},{key:"componentWillUnmount",value:function(){this.service.stop(),window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"updateWindowDimensions",value:function(){this.setState({windowWidth:window.innerWidth})}},{key:"handleCurrTempChange",value:function(e){this.service.send({type:"CURR_TEMP_CHANGE",currTemp:e})}},{key:"handleMouseMove",value:function(e){if(this.setState({xcord:e.pageX,ycord:e.pageY}),this.state.isMouseDown){var t=this.state.windowWidth/2-this.state.xcord,n=250-this.state.ycord,r=function(e){var t=e[0],n=e[1],r=Math.atan2(n,t),i=0;return i=r<=180&&r>-Math.PI/2||r>=0&&r<Math.PI/2||r>=Math.PI/2&&r<=Math.PI?r+Math.PI/2:r+2.5*Math.PI,Math.floor(i/(Math.PI/15)+50)}([t,n]),i=function(e){var t=Math.atan2(e[1],e[0]);return[200-200*Math.cos(t),200-200*Math.sin(t)]}([t,n]);this.setState({xknob:i[0],yknob:i[1]}),this.service.send({type:"TARGET_TEMP_CHANGE",targetTemp:r})}}},{key:"handleMouseDown",value:function(e){this.setState({isMouseDown:!0})}},{key:"handleMouseUp",value:function(e){this.setState({isMouseDown:!1})}},{key:"render",value:function(){var e=this.state.current.context.currTemp,t=this.state.current.context.targetTemp,n=this.state.current.value,r=this.state.current.context.colour,i=this.state.xknob,o=this.state.yknob;return Object(y.jsxs)("div",{children:[Object(y.jsxs)("svg",{width:"400px",height:"400px",overflow:"visible",children:[Object(y.jsx)("circle",{id:"slider-body",onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp,fill:r,cx:"200",cy:"200",r:"200"}),Object(y.jsx)("circle",{id:"knob-shadow",fill:"#9CA3AF",cx:i,cy:o,r:"16",fillOpacity:"0.2"}),Object(y.jsx)("circle",{id:"knob",fill:"#F9FAFB",cx:i,cy:o,r:"10",onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,style:{cursor:"pointer"}}),Object(y.jsxs)("text",{x:"200",y:"200","text-anchor":"middle",fontSize:"3rem",children:[t,"\xb0F"]}),Object(y.jsxs)("text",{x:"200",y:"250","text-anchor":"middle",fontSize:"1rem",children:["Current: ",e,"\xb0F"]})]}),Object(y.jsxs)("p",{children:["Mode: ",n]}),Object(y.jsx)(k,{currTemperature:e,onTemperatureChange:this.handleCurrTempChange})]})}}]),n}(i.a.Component),F=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){return Object(c.a)(this,n),t.call(this,e)}return Object(s.a)(n,[{key:"render",value:function(){return Object(y.jsx)("div",{style:{marginTop:50},children:Object(y.jsx)(P,{})})}}]),n}(i.a.Component);var _=function(){return Object(y.jsx)("div",{className:"App",children:Object(y.jsx)(F,{})})},U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,86)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),r(e),i(e),o(e),a(e)}))};a.a.render(Object(y.jsx)(i.a.StrictMode,{children:Object(y.jsx)(_,{})}),document.getElementById("root")),U()}},[[59,1,2]]]);
//# sourceMappingURL=main.2c40de01.chunk.js.map